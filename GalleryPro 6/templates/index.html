<!DOCTYPE html>
<html>
  <head>
    <title>Gallery</title>
    <script src="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.js"></script>
    <link
      type="text/css"
      rel="stylesheet"
      href="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.css"
    />
   
    <link
      type="text/css"
      rel="stylesheet"
      href="{{ url_for('static',filename='style.css') }}"
    />
    <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-auth.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <style>
      th,
      td {
        padding: 10px;
      }
      .grid-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* Adjust the number of columns as needed */
        gap: 20px; /* Adjust the gap between grid items */
      }

      .grid-item {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: center;
      }

      .grid-item img {
        max-width: 100%;
        height: auto;
      }


    </style>
  </head>
  <body>
    <div id="firebase-auth-container"></div>
    <div class="index-bg" >
     <div id="login-info" hidden="true" >
      <div  style="text-align: center;">
          {% if userData %}
          <h4>Login Info</h4>
          <dl>  
              <p>Email: {{ userData['email'] }}</p>
          </dl>  
          {% elif error_message %}
          <p>Error Messagesss: {{ error_message }}</p>
          {% endif %}
      </div>
      <div class="text-center">
      <a href="/addgallery?id={{userData['user_id']}}"><button type="button" class="btn btn-success">Add Gallery </button></a> 
      <button  id="sign-out" hidden="true" type="button" class="btn btn-danger">Sign Out</button> 
      </div>
      <hr />
      <div class="my-4">
        {% if galleries %}
        <div>
          <div>
            <h3 class="text-center">Galleries</h3>
          </div>
          <div class="card-container">
            {% for item in galleries %}
            <div class="card">
              {% if image %}
                <img class="card-img-top" src="{{ image }}" alt="image">
              {% else %}
                <div class="grey-background"></div>
              {% endif %}
              <div class="card-body">
                <center><h3 class="card-title links"><a href="/preview?id={{ item['gallery_id'] }}" ><div class="links">{{ item['gallery_name'] }}</div></a></h3></center>
                <div class="gallery-links">
                  <a href="/editgallery?id={{ item['gallery_id'] }}" class="card-link btn btn-sm btn-dark">Edit Gallery Name</a>
                  <a href="/deletegallery?id={{ item['gallery_id'] }}" class="card-link btn btn-sm btn-danger">Delete Gallery</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
  
      </div>
     
      <div class="my-4">
        {% if duplicate_images_urls|length > 0 %}
        <div>
          <h3 class="my-4 text-center">Duplicate Images of All Galleries</h3>
          <div class="grid-container my-2">
            {% for image in duplicate_images_urls %}
            <div class="grid-item">
              <img src="{{image}}" class="my-2" alt="image">
            </div>
            {% endfor %}
          </div>
         </div>
         {% endif %}
      </div>
    </div>

    </div>
    
    <script src="{{ url_for('static', filename='app-setup.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    
  </body>
</html>
